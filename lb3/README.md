<img src="https://github.com/Corleone-Inc/ZIVPO_labs/blob/main/lab3/images/Снимок%20экрана%202025-11-16%20204532.jpg" width="800" height="600">
<img src="https://github.com/Corleone-Inc/ZIVPO_labs/blob/main/lab3/images/Снимок%20экрана%202025-11-16%20204532.jpg" width="800" height="600">

### Описание работы программы

Программа открывает консоль и выводит информацию о лабораторной работе, а также о студентах, её выполнивших.
Далее с использованием **Windows API** (функция `CreateFile` из библиотеки `kernel32.dll`) создаётся временный файл **`test.txt`** в папке **Documents** текущего пользователя.
После этого программа:
- определяет путь к папке *Documents* текущего пользователя;
- считывает все файлы и подкаталоги, находящиеся в данной директории;
- выводит полученный перечень в консоль.
Для предотвращения автоматического закрытия консольного окна после завершения выполнения всех операций программа ожидает **нажатия любой клавиши пользователем**.
<img src="https://github.com/Corleone-Inc/ZIVPO_labs/blob/main/lab3/images/Снимок%20экрана%202025-11-16%20204532.jpg" width="800" height="600">
### Анализ с использованием IDA
На заключительном этапе исходный код компилируется в исполняемый файл формата **`.exe`**.  
При анализе полученного файла с помощью **IDA** видно, что **фамилии остаются в читаемом виде**, что указывает на отсутствие обфускации строк в бинарном файле.
<img src="https://github.com/Corleone-Inc/ZIVPO_labs/blob/main/lab3/images/Снимок%20экрана%202025-11-16%20204532.jpg" width="800" height="600">
### Обфускация программы
Далее используем программу‑обфускатор, в нашем случае **yetAnotherObfuscator**.
<img src="https://github.com/Corleone-Inc/ZIVPO_labs/blob/main/lab3/images/Снимок%20экрана%202025-11-16%20204532.jpg" width="800" height="600">
После сравнения двух дизассемблированных файлов очевидны ключевые изменения, внесённые обфускацией.
<img src="https://github.com/Corleone-Inc/ZIVPO_labs/blob/main/lab3/images/Снимок%20экрана%202025-11-16%20204532.jpg" width="800" height="600">
В оригинальном коде все строки — заголовок лабораторной, имена студентов, сообщения об ошибках, имя файла `test.txt`, текстовые разделители — хранились в открытом виде.
После обфускации эти строковые литералы были полностью удалены и заменены на наборы данных, напоминающие строки в кодировке **Base64**. Для работы с ними в код была добавлена специальная функция‑дешифратор. Теперь при каждом обращении к строке программа сначала вызывает эту функцию, передаёт ей зашифрованную константу и получает обратно исходный текст.
Это изменение непосредственно отразилось на логике программы: вызовы методов вроде `Console.WriteLine`, `Path.Combine` или `String.Concat` теперь используют обёртку — вместо прямого строкового литерала они получают аргумент, который является результатом работы функции дешифровки.
Таким образом, обфускация скрыла весь текстовый контент программы, сделав его недоступным при статическом анализе и восстанавливаемым только в процессе выполнения.
